<div class="container">
  <h3>Edit Employee Info</h3>
  <hr />

  <!-- Template Driven Form -->
  <form
    name="frmEmployee"
    #form="ngForm"
    autocomplete="off"
    (ngSubmit)="onSubmit(form)"
  >
    <!-- EmployeeId : hidden -->
    <div class="form-group">
      <input
        type="text"
        readonly
        name="EmployeeId"
        class="form-control"
        [(ngModel)]="employeeService.employee.EmployeeId"
      />
    </div>

    <!-- Employee Name -->
    <div class="form-group">
      <label>Employee Name:</label>
      <input
        type="text"
        name="EmployeeName"
        #EmployeeName="ngModel"
        class="form-control validation-error"
        [(ngModel)]="employeeService.employee.EmployeeName"
        minlength="3"
        maxlength="25"
        required
        [ngClass]="{
          'is-invalid': EmployeeName.touched && EmployeeName.invalid
        }"
      />
      <div
        class="validation-error"
        *ngIf="EmployeeName.touched && EmployeeName.invalid"
      >
        <div *ngIf="EmployeeName.errors?.['required']">
          Employee Name is required!
        </div>
      </div>
    </div>

    <!-- Designation -->
    <div class="form-group">
      <label>Designation:</label>
      <input
        type="text"
        name="Designation"
        #Designation="ngModel"
        class="form-control validation-error"
        [(ngModel)]="employeeService.employee.Designation"
        minlength="3"
        maxlength="25"
        required
        [ngClass]="{ 'is-invalid': Designation.touched && Designation.invalid }"
      />
      <div
        class="validation-error"
        *ngIf="Designation.touched && Designation.invalid"
      >
        <div *ngIf="Designation.errors?.['required']">
          Designation is required!
        </div>
      </div>
    </div>

    <!-- Date Of Joining -->
    <div class="form-group">
      <label>Date Of Joining:</label>
      <input
        type="date"
        name="DateOfJoining"
        #DateOfJoining="ngModel"
        class="form-control validation-error"
        [(ngModel)]="employeeService.employee.DateOfJoining"
        required
        [ngClass]="{
          'is-invalid': DateOfJoining.touched && DateOfJoining.invalid
        }"
      />
      <div
        class="validation-error"
        *ngIf="DateOfJoining.touched && DateOfJoining.invalid"
      >
        <div *ngIf="DateOfJoining.errors?.['required']">
          Date of Joining is required!
        </div>
      </div>
    </div>

    <!-- Department Dropdown List -->
    <div class="form-group">
      <label>Department:</label>
      <select
        name="DepartmentId"
        id="DepartmentId"
        #DepartmentId="ngModel"
        class="form-control validation-error"
        [(ngModel)]="employeeService.employee.DepartmentId"
        required
      >
        <option value="0" selected disabled>--- Select Department ---</option>
        <option
          *ngFor="let dept of employeeService.departments"
          [value]="dept.DepartmentId"
        >
          {{ dept.DepartmentName }}
        </option>
      </select>
      <div
        class="validation-error"
        *ngIf="DepartmentId.touched && DepartmentId.invalid"
      >
        <div *ngIf="DepartmentId.errors?.['required']">
          Department is required!
        </div>
      </div>
    </div>

    <!-- Contact -->
    <div class="form-group">
      <label>Contact:</label>
      <input
        type="text"
        name="Contact"
        #Contact="ngModel"
        class="form-control validation-error"
        [(ngModel)]="employeeService.employee.Contact"
        minlength="10"
        maxlength="10"
        required
        [ngClass]="{ 'is-invalid': Contact.touched && Contact.invalid }"
      />
      <div class="validation-error" *ngIf="Contact.touched && Contact.invalid">
        <div *ngIf="Contact.errors?.['required']">Contact is required!</div>
      </div>
    </div>

    <!-- Is Active -->
    <div class="form-group">
      <div class="form-check">
        <input
          type="checkbox"
          name="IsActive"
          #IsActive="ngModel"
          class="form-check-input"
          [(ngModel)]="employeeService.employee.IsActive"
        />
        <label class="form-check-label">Is in Service</label>
      </div>
    </div>

    <!-- Submit -->
    <div class="form-group">
      <button
        type="submit"
        class="btn btn-lg btn-primary form-control"
        [disabled]="!(form.valid && form.dirty)"
      >
        UPDATE
      </button>
    </div>

    <!-- Error Message -->
    <div *ngIf="errorMessage" class="error-message validation-error">
      {{ errorMessage }}
    </div>
  </form>
</div>
